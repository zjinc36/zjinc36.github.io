<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.5"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.5"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><title>Git的diff命令和patch命令的使用 | 想了20分钟的博客名</title></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Git的diff命令和patch命令的使用</h1><a id="logo" href="/.">想了20分钟的博客名</a><p class="description">世界是唯物辩证的</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Git的diff命令和patch命令的使用</h1><div class="post-meta"><a href="/2017/02/15/Git的diff命令和patch命令的使用/#comments" class="comment-count"></a><p><span class="date">Feb 15, 2017</span><span><a href="/categories/Git/" class="category">Git</a></span></p></div><div class="post-content"><h1 id="diff命令的使用方法"><a href="#diff命令的使用方法" class="headerlink" title="diff命令的使用方法"></a>diff命令的使用方法</h1><h2 id="diff命令的作用"><a href="#diff命令的作用" class="headerlink" title="diff命令的作用"></a>diff命令的作用</h2><ol>
<li>diff命令是linux上非常重要的工具，用于比较文件的内容，特别是比较两个版本不同的文件以找到改动的地方。</li>
<li>diff在命令行中打印每一个行的改动。</li>
<li>最新版本的diff还支持二进制文件。</li>
<li><strong>diff程序的输出被称为补丁 (patch)，因为Linux系统中还有一个patch程序，可以根据diff的输出将a.c的文件内容更新为b.c。</strong></li>
<li>diff是svn、cvs、git等版本控制工具不可或缺的一部分。</li>
</ol>
<h2 id="diff命令的使用"><a href="#diff命令的使用" class="headerlink" title="diff命令的使用"></a>diff命令的使用</h2><p>一般使用方法<br>diff命令的格式一般为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff [参数][文件或者目录1][文件或者目录2]</span><br></pre></td></tr></table></figure>

<h2 id="经常使用举例"><a href="#经常使用举例" class="headerlink" title="经常使用举例"></a>经常使用举例</h2><h3 id="不使用参数直接比较"><a href="#不使用参数直接比较" class="headerlink" title="不使用参数直接比较"></a>不使用参数直接比较</h3><ol>
<li><p>例如，有文件test1和test2</p>
</li>
<li><p>进行比较</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff test1 test2</span><br></pre></td></tr></table></figure>
</li>
<li><p>输出(注意代码中的注释)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">2,3c2                       # &quot;c&quot;表示冲突(change),即第一个文件的第2到第3行和第二个文件的第2行开始有冲突</span><br><span class="line">&lt; asfdasfdasdfasdf          # &quot;&lt;&quot;表示删除的行,即删去了两行</span><br><span class="line">&lt; creverververver</span><br><span class="line">---</span><br><span class="line">&gt; qwefqwefqwef              # &quot;&gt;&quot;表示添加的行,即添加了这行</span><br><span class="line">5,9c4                       # 第一个文件第五行到第九行和第二个文件第四行有冲突</span><br><span class="line">&lt; aaaaaaaaaaaa              # 删去了了五行</span><br><span class="line">&lt; aaaa</span><br><span class="line">&lt; a</span><br><span class="line">&lt; a</span><br><span class="line">&lt; a</span><br><span class="line">---</span><br><span class="line">&gt; qsdqwefqwefqwef           # 添加了一行</span><br><span class="line">11d5                        # 第一个文件第11行与第二个文件第五行相比有删除</span><br><span class="line">&lt; bbbbbbbbb                 # 删除了这一行</span><br></pre></td></tr></table></figure>
</li>
<li><p>提示说明<br>注释中已经写到,<code>c</code>表示冲突,以下是diff的normal显示格式的提示总结</p>
</li>
</ol>
<ul>
<li><code>a</code> - add - 添加</li>
<li><code>c</code> - change - 改变</li>
<li><code>d</code> - delete - 删除</li>
<li><code>&lt;</code> - 表示删除的行</li>
<li><code>&gt;</code> - 表示添加的行</li>
</ul>
<h3 id="增加参数比较两文件"><a href="#增加参数比较两文件" class="headerlink" title="增加参数比较两文件"></a>增加参数比较两文件</h3><p>参数如下</p>
<ul>
<li>-a或–text 　diff预设只会逐行比较文本文件。</li>
<li>-b或–ignore-space-change 　不检查空格字符的不同。</li>
<li>-B或–ignore-blank-lines 　不检查空白行。</li>
<li>-c 　显示全部内文，并标出不同之处。</li>
</ul>
<p>使用过程</p>
<ol>
<li><p>使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff -c test1 test2</span><br></pre></td></tr></table></figure>
</li>
<li><p>将会得到</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">*** test1 2016-04-21 14:46:55.000000000 +0800</span><br><span class="line">--- test2 2016-04-21 14:44:55.000000000 +0800</span><br><span class="line">***************</span><br><span class="line">*** 1,11 ****</span><br><span class="line">  utils</span><br><span class="line">! asfdasfdasdfasdf</span><br><span class="line">! creverververver</span><br><span class="line">  util</span><br><span class="line">! aaaaaaaaaaaa</span><br><span class="line">! aaaa</span><br><span class="line">! a</span><br><span class="line">! a</span><br><span class="line">! a</span><br><span class="line">  qwerqwerqwe</span><br><span class="line">- bbbbbbbbb</span><br><span class="line">--- 1,5 ----</span><br><span class="line">  utils</span><br><span class="line">! qwefqwefqwef</span><br><span class="line">  util</span><br><span class="line">! qsdqwefqwefqwef</span><br><span class="line">  qwerqwerqwe</span><br></pre></td></tr></table></figure>
</li>
<li><p>说明</p>
</li>
</ol>
<ul>
<li>“＋” 比较的文件的后者比前着多一行</li>
<li>“－” 比较的文件的后者比前着少一行</li>
<li>“！” 比较的文件两者有差别的行</li>
</ul>
<h3 id="以并列的方式显示文件的异同之处。"><a href="#以并列的方式显示文件的异同之处。" class="headerlink" title="以并列的方式显示文件的异同之处。"></a>以并列的方式显示文件的异同之处。</h3><ol>
<li><p>使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff test1 test2 -y</span><br></pre></td></tr></table></figure>
</li>
<li><p>输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">utils                                       utils</span><br><span class="line">asfdasfdasdfasdf                          | qwefqwefqwef</span><br><span class="line">creverververver                           &lt;</span><br><span class="line">util                                        util</span><br><span class="line">aaaaaaaaaaaa                              | qsdqwefqwefqwef</span><br><span class="line">aaaa                                      &lt;</span><br><span class="line">a                                         &lt;</span><br><span class="line">a                                         &lt;</span><br><span class="line">a                                         &lt;</span><br><span class="line">qwerqwerqwe                                 qwerqwerqwe</span><br><span class="line">bbbbbbbbb                                 &lt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>说明</p>
</li>
</ol>
<ul>
<li><code>|</code>:表示前后2个文件内容有不同</li>
<li><code>&lt;</code>:表示后面文件比前面文件少了1行内容</li>
<li><code>&gt;</code>:表示后面文件比前面文件多了1行内容</li>
</ul>
<h3 id="以合并的方式显示两个文件的不同-可以用于使用patch命令进行打补丁包"><a href="#以合并的方式显示两个文件的不同-可以用于使用patch命令进行打补丁包" class="headerlink" title="以合并的方式显示两个文件的不同(可以用于使用patch命令进行打补丁包)"></a>以合并的方式显示两个文件的不同(可以用于使用patch命令进行打补丁包)</h3><ol>
<li><p><strong>这种输出方式输出的内容可以用于使用patch命令进行打补丁包</strong></p>
</li>
<li><p>例如，有文件test1和test2</p>
</li>
<li><p>进行比较</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff -ruN test1 test2</span><br></pre></td></tr></table></figure>
</li>
<li><p>输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">--- test1   2016-04-21 14:46:55.000000000 +0800 # 第一个文件的信息</span><br><span class="line">+++ test2   2016-04-21 14:44:55.000000000 +0800 # 第二个文件的信息</span><br><span class="line">@@ -1,11 +1,5 @@                                # 第一个文件1到11行和第二个文件1到5行</span><br><span class="line"> utils</span><br><span class="line">-asfdasfdasdfasdf                               # 前面带减号的是删除的行</span><br><span class="line">-creverververver</span><br><span class="line">+qwefqwefqwef                                   # 带加号的是增加的行</span><br><span class="line"> util</span><br><span class="line">-aaaaaaaaaaaa</span><br><span class="line">-aaaa</span><br><span class="line">-a</span><br><span class="line">-a</span><br><span class="line">-a</span><br><span class="line">+qsdqwefqwefqwef</span><br><span class="line"> qwerqwerqwe</span><br><span class="line">-bbbbbbbbb</span><br></pre></td></tr></table></figure>
</li>
<li><p>提示说明</p>
</li>
</ol>
<ul>
<li>“＋” 比较的文件的后者比前着多一行</li>
<li>“－” 比较的文件的后者比前着少一行</li>
<li>“！” 比较的文件两者有差别的行</li>
</ul>
<h3 id="比较两个文件夹的不同"><a href="#比较两个文件夹的不同" class="headerlink" title="比较两个文件夹的不同"></a>比较两个文件夹的不同</h3><ol>
<li><p>例如有两个文件夹testa和test，将test1和test2放进去</p>
</li>
<li><p>进行比较</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff testa testb</span><br></pre></td></tr></table></figure>
</li>
<li><p>得到</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">diff testa/test1 testb/test1    # 对比两个文件夹下面文件名相同的文件</span><br><span class="line">2,3c2                           # 以下是正常的文件对比格式</span><br><span class="line">&lt; asfdasfdasdfasdf</span><br><span class="line">&lt; creverververver</span><br><span class="line">---</span><br><span class="line">&gt; qwefqwefqwef</span><br><span class="line">5,9c4</span><br><span class="line">&lt; aaaaaaaaaaaa</span><br><span class="line">&lt; aaaa</span><br><span class="line">&lt; a</span><br><span class="line">&lt; a</span><br><span class="line">&lt; a</span><br><span class="line">---</span><br><span class="line">&gt; qsdqwefqwefqwef</span><br><span class="line">11d5</span><br><span class="line">&lt; bbbbbbbbb</span><br><span class="line">Only in testa: test2            # testa里面有而testb里面没有的test2</span><br><span class="line">Only in testb: test3            # testa里面没有而testb有的test3</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="diff的参数说明"><a href="#diff的参数说明" class="headerlink" title="diff的参数说明"></a>diff的参数说明</h2><ul>
<li>-C或–context 　与执行”-c-“指令相同。</li>
<li>-d或–minimal 　使用不同的演算法，以较小的单位来做比较。</li>
<li>-D或ifdef 　此参数的输出格式可用于前置处理器巨集。</li>
<li>-e或–ed 　此参数的输出格式可用于ed的script文件。</li>
<li>-f或-forward-ed 　输出的格式类似ed的script文件，但按照原来文件的顺序来显示不同处。</li>
<li>-H或–speed-large-files 　比较大文件时，可加快速度。</li>
<li>-l或–ignore-matching-lines 　若两个文件在某几行有所不同，而这几行同时都包含了选项中指定的字符或字符串，则不显示这两个文件的差异。</li>
<li>-i或–ignore-case 　不检查大小写的不同。</li>
<li>-l或–paginate 　将结果交由pr程序来分页。</li>
<li>-n或–rcs 　将比较结果以RCS的格式来显示。</li>
<li>-N或–new-file 　在比较目录时，若文件A仅出现在某个目录中，预设会显示：Only in目录：文件A若使用-N参数，则diff会将文件A与一个空白的文件比较。</li>
<li>-p 　若比较的文件为C语言的程序码文件时，显示差异所在的函数名称。</li>
<li>-P或–unidirectional-new-file 　与-N类似，但只有当第二个目录包含了一个第一个目录所没有的文件时，才会将这个文件与空白的文件做比较。</li>
<li>-q或–brief 　仅显示有无差异，不显示详细的信息。</li>
<li>-r或–recursive 　比较子目录中的文件。</li>
<li>-s或–report-identical-files 　若没有发现任何差异，仍然显示信息。</li>
<li>-S或–starting-file 　在比较目录时，从指定的文件开始比较。</li>
<li>-t或–expand-tabs 　在输出时，将tab字符展开。</li>
<li>-T或–initial-tab 　在每行前面加上tab字符以便对齐。</li>
<li>-u,-U或–unified= 　以合并的方式来显示文件内容的不同。即统一格式的输出。在合并中也使用的是这种模式。</li>
<li>v或–version 　显示版本信息。</li>
<li>-w或–ignore-all-space 　忽略全部的空格字符。</li>
<li>-W或–width 　在使用-y参数时，指定栏宽。</li>
<li>-x或–exclude 　不比较选项中所指定的文件或目录。</li>
<li>-X或–exclude-from 　您可以将文件或目录类型存成文本文件，然后在=中指定此文本文件。</li>
<li>-y或–side-by-side 　以并列的方式显示文件的异同之处。</li>
<li>–help 　显示帮助。</li>
<li>–left-column 　在使用-y参数时，若两个文件某一行内容相同，则仅在左侧的栏位显示该行内容。</li>
<li>–suppress-common-lines 　在使用-y参数时，仅显示不同之处。</li>
</ul>
<h1 id="patch命令的使用方法"><a href="#patch命令的使用方法" class="headerlink" title="patch命令的使用方法"></a>patch命令的使用方法</h1><h2 id="patch命令的作用"><a href="#patch命令的作用" class="headerlink" title="patch命令的作用"></a>patch命令的作用</h2><p>打补丁</p>
<h2 id="patch命令的格式"><a href="#patch命令的格式" class="headerlink" title="patch命令的格式"></a>patch命令的格式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">patch [option] [origfile] [patchfile]</span><br></pre></td></tr></table></figure>

<h2 id="patch命令的使用"><a href="#patch命令的使用" class="headerlink" title="patch命令的使用"></a>patch命令的使用</h2><p>我们可以先用diff命令生成patch文件。然后使用patch命令将第二个文件内容修改成第一个文件的内容。例如上述的test1和test2</p>
<ol>
<li><p>生成patch文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff -ruN test1 test2 &gt; patch.log   # 生成patch文件</span><br></pre></td></tr></table></figure>
</li>
<li><p>利用patch文件和patch命令打补丁</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">patch test2 patch.log               # 利用patch文件和patch命令打补丁</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>之后test2的内容就会和test1内容一致了。</p>
<h2 id="patch说明"><a href="#patch说明" class="headerlink" title="patch说明"></a>patch说明</h2><ul>
<li>patch 命令（默认）使用从标准输入读入的源文件 <code>&lt;</code> PATCHFILE ，但是使用 -i PATCHFILE 设置。</li>
<li>源文件包含由 diff 命令产生的差别列表（或者 diff 列表）。差异列表是比较两个文件和构建关于如何纠正差别的指示信息的结果。</li>
<li>差异列表有三种格式：正常、上下文或者是 ed 编辑器风格。patch 命令确定差异列表格式，除非被 -c、-e 或 -n 标志否决。</li>
<li>默认，ORIGFILE 被PATCHFILE 替换。若ORIGFILE（原始文件）不存在时，PATCHFILE（补丁文件）根据差别列表，创建 ORIGFILE 文件。</li>
<li>指定 -b 标志时，ORIGFILE（原始文件）会备份在自身的文件中，只是在文件名后附加了后缀 .orig。使用 -o 标志也可以指定输出的目的地。</li>
</ul>
<h2 id="patch命令的参数"><a href="#patch命令的参数" class="headerlink" title="patch命令的参数"></a>patch命令的参数</h2><ol>
<li>输入选项</li>
</ol>
<table>
<thead>
<tr>
<th>输入选项</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>-p</td>
<td>NUM    –strip=NUM</td>
<td>去除相对路径层次的数目</td>
</tr>
<tr>
<td>-F</td>
<td>LINES    –fuzz LINES</td>
<td>设置监别列数</td>
</tr>
<tr>
<td>-l</td>
<td>–ignore-whitespace</td>
<td>忽略修补数据与输入数据的跳格，空格字符</td>
</tr>
<tr>
<td>-c</td>
<td>–context</td>
<td>把修补数据解译成关联性的差异</td>
</tr>
<tr>
<td>-e</td>
<td>–ed</td>
<td>把修补数据解译成ed指令可用的叙述文件</td>
</tr>
<tr>
<td>-n</td>
<td>–normal</td>
<td>把修补数据解译成一般性的差异</td>
</tr>
<tr>
<td>-u</td>
<td>–unified</td>
<td>把修补数据解译成一致化的差异</td>
</tr>
<tr>
<td>-N</td>
<td>–forward</td>
<td>忽略修补的数据较原始文件的版本更旧，或该版本的修补数据已使用过</td>
</tr>
<tr>
<td>-R</td>
<td>–reverse</td>
<td>假设修补数据是由新旧文件交换位置而产生</td>
</tr>
<tr>
<td>-i</td>
<td>PATCHFILE    –input=PATCHFILE</td>
<td>读取指定的修补文件</td>
</tr>
</tbody></table>
<ol start="2">
<li>输出选项</li>
</ol>
<table>
<thead>
<tr>
<th>输出选项</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>-o FILE</td>
<td>–output=FILE</td>
<td>设置输出文件的名称，修补过的文件会以该名称存放</td>
</tr>
<tr>
<td>-r FILE</td>
<td>–reject-file=FILE</td>
<td>Output rejects to FILE</td>
</tr>
<tr>
<td>-D NAME</td>
<td>–ifdef=NAME</td>
<td>用指定的符号把改变的地方标示出来</td>
</tr>
<tr>
<td>-m</td>
<td>–merge</td>
<td>Merge using conflict markers instead of creating reject files</td>
</tr>
<tr>
<td>-E</td>
<td>–remove-empty-files</td>
<td>若修补过后输出的文件其内容是一片空白，则移除该文件</td>
</tr>
<tr>
<td>-Z</td>
<td>–set-utc</td>
<td>把修补过的文件更改，存取时间设为UTC</td>
</tr>
<tr>
<td>-T</td>
<td>–set-time</td>
<td>此参数的效果和指定”-Z”参数类似，但以本地时间为主</td>
</tr>
<tr>
<td></td>
<td>–quoting-style=WORD</td>
<td>使用WORD引述类型显示项目名称,可设定值有literal,shell,shell-always,c,escape</td>
</tr>
</tbody></table>
<ol start="3">
<li>备份和版本控制选项</li>
</ol>
<table>
<thead>
<tr>
<th>备份和版本控制选项</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>-b</td>
<td>–backup</td>
<td>备份每一个原始文件</td>
</tr>
<tr>
<td></td>
<td>–backup-if-mismatch</td>
<td>在修补数据不完全吻合，且没有刻意指定要备份文件时，才备份文件</td>
</tr>
<tr>
<td></td>
<td>–no-backup-if-mismatch</td>
<td>在修补数据不完全吻合，且没有刻意指定要备份文件时，不要备份文件</td>
</tr>
<tr>
<td>-V STYLE</td>
<td>–version-control=STYLE</td>
<td>用”-b”参数备份目标文件后，备份文件的字尾会被加上一个备份字符串，这个字符串不仅可用”-z”参数变更，当使用”-V”参数指定不同备份方式时，也会产生不同字尾的备份字符串</td>
</tr>
<tr>
<td>-B PREFIX</td>
<td>–prefix=PREFIX</td>
<td>设置文件备份时，附加在文件名称前面的字首字符串，该字符串可以是路径名称</td>
</tr>
<tr>
<td>-Y PREFIX</td>
<td>–basename-prefix=PREFIX</td>
<td>设置文件备份时，附加在文件基本名称开头的字首字符串</td>
</tr>
<tr>
<td>-z SUFFIX</td>
<td>–suffix=SUFFIX</td>
<td>此参数的效果和指定”-B”参数类似，差别在于修补作业使用的路径与文件名若为src/linux/fs/super.c，加上”backup/“字符串后，文件super.c会备份于/src/linux/fs/backup目录里</td>
</tr>
<tr>
<td>-g NUM</td>
<td>–get=NUM</td>
<td>设置以RSC或SCCS控制修补作业</td>
</tr>
<tr>
<td>4.    其他选项</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>其他选项</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>-t</td>
<td>–batch</td>
<td>自动略过错误，不询问任何问题</td>
</tr>
<tr>
<td>-f</td>
<td>–force</td>
<td>此参数的效果和指定”-t”参数类似，但会假设修补数据的版本为新版本</td>
</tr>
<tr>
<td>-s</td>
<td>–quiet或–silent</td>
<td>不显示指令执行过程，除非发生错误</td>
</tr>
<tr>
<td></td>
<td>–verbose</td>
<td>显示详细的过程信息</td>
</tr>
<tr>
<td></td>
<td>–dry-run</td>
<td>实际上不改变任何文件；演示讲会发生什么</td>
</tr>
<tr>
<td></td>
<td>–posix</td>
<td>符合POSIX标准</td>
</tr>
<tr>
<td>-d DIR</td>
<td>–directory=DIR</td>
<td>先改变工作目录到指定的目录</td>
</tr>
<tr>
<td></td>
<td>–reject-format=FORMAT</td>
<td>Create ‘context’ or ‘unified’ rejects</td>
</tr>
<tr>
<td></td>
<td>–binary</td>
<td>以二进制方式读写数据</td>
</tr>
<tr>
<td></td>
<td>–read-only=BEHAVIOR</td>
<td>如何处理只读输入文件：“忽视”，他们是只读的，“警告”（默认），或“失败”</td>
</tr>
</tbody></table>
</div><div class="tags"><a href="/tags/Git/">Git</a></div><div class="post-share"></div><div class="post-nav"><a href="/2017/02/15/vim的全局替换/" class="pre">Vim的全局替换</a><a href="/2017/01/24/Eclipse的properties文件类型显示Unicoide编码不显示汉字问题/" class="next">Eclipse的properties文件类型显示Unicoide编码不显示汉字问题</a></div><div id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC80NDg2NC8yMTM4NQ=="></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#diff命令的使用方法"><span class="toc-text">diff命令的使用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#diff命令的作用"><span class="toc-text">diff命令的作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#diff命令的使用"><span class="toc-text">diff命令的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#经常使用举例"><span class="toc-text">经常使用举例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#不使用参数直接比较"><span class="toc-text">不使用参数直接比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#增加参数比较两文件"><span class="toc-text">增加参数比较两文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#以并列的方式显示文件的异同之处。"><span class="toc-text">以并列的方式显示文件的异同之处。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#以合并的方式显示两个文件的不同-可以用于使用patch命令进行打补丁包"><span class="toc-text">以合并的方式显示两个文件的不同(可以用于使用patch命令进行打补丁包)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#比较两个文件夹的不同"><span class="toc-text">比较两个文件夹的不同</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#diff的参数说明"><span class="toc-text">diff的参数说明</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#patch命令的使用方法"><span class="toc-text">patch命令的使用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#patch命令的作用"><span class="toc-text">patch命令的作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#patch命令的格式"><span class="toc-text">patch命令的格式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#patch命令的使用"><span class="toc-text">patch命令的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#patch说明"><span class="toc-text">patch说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#patch命令的参数"><span class="toc-text">patch命令的参数</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/08/02/Ubuntu20-04中安装flameshot截屏工具/">Ubuntu20.04中安装flameshot截屏工具</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/31/Ubuntu刷新DNS/">Ubuntu刷新DNS</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/28/循环冗余校验（CRC）算法/">循环冗余校验（CRC）算法</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/26/ubuntu中Rime输入法的安装和配置/">ubuntu中Rime输入法的安装和配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/26/Ubuntu18.04中ibus-sunpinyin的安装与设置/">ubuntu18.04中ibus-Sunpinyin的安装与设置</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/25/Ubuntu设置开机自动加-挂载硬盘/">Ubuntu设置开机自动加/挂载硬盘</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/18/Ubuntu18-04如何固定图标到任务栏/">Ubuntu18.04如何固定图标到任务栏</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/11/Ubuntu中批量下载bilibili网站的视频/">Ubuntu中批量下载bilibili网站的视频</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/08/Ubuntu中安装分区管理工具gparted/">Ubuntu中安装分区管理工具gparted</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/08/Ubuntu中基于Docker安装QQ和WeChat/">Ubuntu中基于Docker安装QQ和WeChat</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/BigData/">BigData</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Eclipse/">Eclipse</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Excel/">Excel</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">86</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Javascript/">Javascript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tampermonkey/">Tampermonkey</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ubuntu/">Ubuntu</a><span class="category-list-count">47</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/vim/">vim</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构与算法/">数据结构与算法</a><span class="category-list-count">40</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/未分类/">未分类</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/正则表达式/">正则表达式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/视频笔记/">视频笔记</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机操作系统/">计算机操作系统</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机组成原理/">计算机组成原理</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a><span class="category-list-count">4</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/Http/" style="font-size: 15px;">Http</a> <a href="/tags/vim/" style="font-size: 15px;">vim</a> <a href="/tags/Eclipse/" style="font-size: 15px;">Eclipse</a> <a href="/tags/Eclipse插件/" style="font-size: 15px;">Eclipse插件</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Linux命令/" style="font-size: 15px;">Linux命令</a> <a href="/tags/Ubuntu装机日志/" style="font-size: 15px;">Ubuntu装机日志</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/SpringMVC/" style="font-size: 15px;">SpringMVC</a> <a href="/tags/Lombok/" style="font-size: 15px;">Lombok</a> <a href="/tags/Junit/" style="font-size: 15px;">Junit</a> <a href="/tags/Java细节/" style="font-size: 15px;">Java细节</a> <a href="/tags/Thymeleaf/" style="font-size: 15px;">Thymeleaf</a> <a href="/tags/设计模式/" style="font-size: 15px;">设计模式</a> <a href="/tags/Linux配置/" style="font-size: 15px;">Linux配置</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a> <a href="/tags/Jackson/" style="font-size: 15px;">Jackson</a> <a href="/tags/BigData/" style="font-size: 15px;">BigData</a> <a href="/tags/Tomcat/" style="font-size: 15px;">Tomcat</a> <a href="/tags/Servlet/" style="font-size: 15px;">Servlet</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/JSP-EL-JSTL/" style="font-size: 15px;">JSP/EL/JSTL</a> <a href="/tags/Struts2/" style="font-size: 15px;">Struts2</a> <a href="/tags/Hibernate/" style="font-size: 15px;">Hibernate</a> <a href="/tags/OGNL/" style="font-size: 15px;">OGNL</a> <a href="/tags/maven/" style="font-size: 15px;">maven</a> <a href="/tags/MyBatis/" style="font-size: 15px;">MyBatis</a> <a href="/tags/SpringBoot/" style="font-size: 15px;">SpringBoot</a> <a href="/tags/SSH/" style="font-size: 15px;">SSH</a> <a href="/tags/SpringSecurity/" style="font-size: 15px;">SpringSecurity</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/Jquery/" style="font-size: 15px;">Jquery</a> <a href="/tags/Hadoop/" style="font-size: 15px;">Hadoop</a> <a href="/tags/正则表达式/" style="font-size: 15px;">正则表达式</a> <a href="/tags/Excel/" style="font-size: 15px;">Excel</a> <a href="/tags/视频笔记/" style="font-size: 15px;">视频笔记</a> <a href="/tags/计算机组成原理/" style="font-size: 15px;">计算机组成原理</a> <a href="/tags/数据结构与算法-Java实现/" style="font-size: 15px;">数据结构与算法(Java实现)</a> <a href="/tags/Ubuntu配置/" style="font-size: 15px;">Ubuntu配置</a> <a href="/tags/Tampermonkey/" style="font-size: 15px;">Tampermonkey</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">82</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019</a><span class="archive-list-count">80</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018</a><span class="archive-list-count">20</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017</a><span class="archive-list-count">31</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://lotabout.me/" title="三点水" target="_blank">三点水</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p><span> Copyright &copy;<a href="/." rel="nofollow">zjc.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script type="text/javascript" src="/js/search.json.js?v=2.0.5"></script><div id="fullscreen-img" class="hide"><span class="close"></span></div><script type="text/javascript" src="/js/imgview.js?v=2.0.5" async></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.5" async></script><script>(function(d, s) {
  var j, e = d.getElementsByTagName('body')[0];
  if (typeof LivereTower === 'function') { return; }
  j = d.createElement(s);
  j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
  j.async = true;
  e.appendChild(j);
})(document, 'script');
</script></body></html>