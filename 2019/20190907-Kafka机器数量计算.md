#   Kafka机器数量计算

---
#   经验公式
```
Kafka机器数量（经验公式）=2 *（ 峰值生产速度[单位M/s] * 副本数/100）+ 1
```

1.  先要预估一天大概产生多少数据
2.  然后用Kafka自带的生产压测（只测试Kafka的写入速度，保证数据不积压），计算出峰值生产速度([Kafka压力测试说明](/2019/20190907-Kafka压力测试.md))
3.  再根据设定的副本数，就能预估出需要部署Kafka的数量

#   举例
比如我们采用压力测试测出写入的速度是10M/s一台，峰值的业务数据的速度是50M/s。副本数为2。
```
Kafka机器数量 =2 *（50 * 2 / 100）+ 1 = 3台
```
