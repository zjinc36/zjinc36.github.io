# Redis_用Redis来抗住超高并发读请求要如何设计

-----

+   如果是读高并发的话，先看读并发的数量级是多少，因为Redis单机的读QPS在万级，每秒几万没问题
+   使用一主多从+哨兵集群的缓存架构来承载每秒10W+的读并发，主从复制，读写分离。
    *   使用哨兵集群主要是提高缓存架构的可用性，解决单点故障问题。主库负责写，多个从库负责读，支持水平扩容，根据读请求的QPS来决定加多少个Redis从实例。如果读并发继续增加的话，只需要增加 Redis从实例就行了。
+   如果需要缓存1T+的数据，选择Redis cdluster模式，每个主节点存一部分数据
    *   假设一个master存32G，那只需要`n*32G>=1T`, n个这样的master节点就可以支持1T+的海量数据的存储了。
    *   Redis单主的瓶颈不在于读写的并发，而在于内存容量，即使是一主多从也是不能解决该问题，因为一主多从架构下，多个slave的数据和master的完全一样。
    *   假如master是10G那slave也只能存10G数据。所以数据量受单主的影响。而这个时候又需要缓存海量数据，那就必须得有多主了，并且多个主保存的数据还不能一样。
    *   Redis官方给出的Redis cluster模式完美的解决了这个问题。
