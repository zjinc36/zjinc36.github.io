# 设计模式简述

---

# 何为设计模式

设计模式，设计这里单指的是代码的设计与组织，模式是主体行为的一般方式，是在经过实践之后总结出来的一般套路，具有一般性、简单性、重复性、结构性、稳定性、可操作性的特征。因此设计模式就是代码设计时前人实践出来的各种套路即`最佳实践的集合`。

# 为何学习设计模式

设计模式就与成语一样，是对智慧的浓缩。设计模式现在已经不仅仅是一个术语，而是已经变成了编程领域通用的语言。就如同学习成语一样，学习设计模式是我们接收前人智慧的一种方式，也是我们融入编程文化的一种途径。

设计模式是对虚的设计原则的具体表述。抽象的设计原则需要具体的设计模式来体现，具体的设计模式的提炼需要抽象设计原则的指导，二者相辅相成。设计模式并不局限于 GoF 提出的 23 中设计模式，你也可以在实践中总结自己的模式指导开发。软件开发诞生的时间还太短，虽然它的发展很快，但还有很多空白。设计模式也是一样，23 中看似很多，相对于现实世界的复杂性还是太简单，因此有待于我们去发掘。

# 七大原则

| 设计原则                                       | 一句话归纳                                                           | 目的                                       |
| ---------------------------------------------- | -------------------------------------------------------------------- | ------------------------------------------ |
| [开闭原则](/2021/20210720-开闭原则.md)         | 对扩展开放，对修改关闭                                               | 降低维护带来的新风险                       |
| [依赖倒置原则](/2021/20210720-依赖倒置原则.md) | 高层不应该依赖低层，要面向接口编程                                   | 更利于代码结构的升级扩展                   |
| [单一职责原则](/2021/20210720-单一职责原则.md) | 一个类只干一件事，实现类要单一                                       | 便于理解，提高代码的可读性                 |
| [接口分离原则](/2021/20210720-接口分离原则.md) | 一个接口只干一件事，接口要精简单一                                   | 功能解耦，高聚合、低耦合                   |
| [迪米特法则](/2021/20210720-迪米特原则.md)     | 不该知道的不要知道，一个类应该保持对其它对象最少的了解，降低耦合度   | 只和朋友交流，不和陌生人说话，减少代码臃肿 |
| [里氏替换原则](/2021/20210720-里氏替换原则.md) | 不要破坏继承体系，子类重写方法功能发生改变，不应该影响父类方法的含义 | 防止继承泛滥                               |
| [合成复用原则](/2025/20250428-合成复用原则.md) | 尽量使用组合或者聚合关系实现代码复用，少使用继承                     | 降低代码耦合                               |

# 各个设计模式梗概

## 创建型模式

| 模式                                              | 说明                                                                                       |
| ------------------------------------------------- | ------------------------------------------------------------------------------------------ |
| 工厂模式                                          | 把对象的创建和使用分离，就像工厂生产产品，你只需要告诉工厂要什么，不用管它咋造的。         |
| 抽象工厂模式                                      | 是工厂模式的升级版，一个工厂可以生产一系列相关的产品，比如一个电子厂能生产手机、平板等。   |
| [单例模式](/2021/20210722-单例模式)               | 确保一个类只有一个实例，并且提供一个全局访问点，就像一个公司只有一个老板，大家都找他办事。 |
| [建造者模式](/2022/20220224-设计模式之建造者模式) | 将一个复杂对象的构建与表示分离，允许你逐步构建对象，就像组装电脑，一个个组件慢慢装。       |
| [原型模式](/2022/20220224-设计模式之原型模式)     | 通过复制现有对象来创建新对象，不用重新初始化，就像复印文件一样简单。                       |


## 结构型模式

| 模式                                              | 说明                                                                                                     |
| ------------------------------------------------- | -------------------------------------------------------------------------------------------------------- |
| [适配器模式](/2018/20180225-设计模式之适配器模式) | 将一个类的接口转换成客户希望的另一个接口，好比电源适配器，让不同接口的设备能正常使用。                   |
| [桥接模式](/2018/20180225-设计模式之桥接模式)     | 把抽象部分和实现部分分离，让它们可以独立变化，就像桥梁连接两岸，两边的变化互不影响。                     |
| [过滤器模式](/2025/20250429-设计模式之过滤器模式) | 使用不同的标准过滤一组对象，就像滤网，按不同规则筛选东西。                                               |
| [组合模式](/2025/20250429-设计模式之组合模式)     | 将对象组合成树形结构以表示“部分-整体”的层次结构，让用户对单个对象和组合对象的使用具有一致性。            |
| [装饰器模式](/2018/20180226-设计模式之装饰器模式) | 动态地给一个对象添加一些额外的职责，就像给照片加滤镜，不改变照片本身却增添了新效果。                     |
| 外观模式                                          | 为子系统中的一组接口提供一个一致的界面，简化客户端与子系统的交互，如同酒店前台，你通过它就能搞定很多事。 |
| 享元模式                                          | 运用共享技术有效地支持大量细粒度的对象，避免重复创建相同对象，节省资源，像共享单车，多人共享使用。       |
| 代理模式                                          | 为其他对象提供一种代理以控制对这个对象的访问，就像明星的经纪人，帮明星处理事务。                         |

## 行为型模式

| 模式       | 说明                                                                                                                                         |
| ---------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| 责任链模式 | 使多个对象都有机会处理请求，从而避免请求的发送者和接收者之间的耦合关系，请求沿着责任链传递，直到有对象处理它，类似请假流程一级一级审批。     |
| 命令模式   | 将一个请求封装为一个对象，从而使你可用不同的请求对客户进行参数化，对请求排队或记录请求日志，以及支持可撤销的操作，比如遥控器的各种按键命令。 |
| 解释器模式 | 给定一个语言，定义它的文法的一种表示，并定义一个解释器，这个解释器使用该表示来解释语言中的句子，就像翻译官解读外语。                         |
| 迭代器模式 | 提供一种方法顺序访问一个聚合对象中各个元素，而又不需暴露该对象的内部表示，就像你可以逐个翻看一本书的页面。                                   |
| 中介者模式 | 用一个中介对象来封装一系列的对象交互，中介者使各对象不需要显式地相互引用，从而使其耦合松散，比如房产中介连接买家和卖家。                     |
| 备忘录模式 | 在不破坏封装性的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态，以便以后当需要时能将该对象恢复到原先保存的状态，类似游戏存档。   |
| 观察者模式 | 定义对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖它的对象都会得到通知并自动更新，就像粉丝关注明星动态。                 |
| 状态模式   | 允许一个对象在其内部状态改变时改变它的行为，对象看起来似乎修改了它的类，比如自动售货机在不同状态下有不同操作。                               |
| 空对象模式 | 创建一个空对象取代 NULL 对象实例的检查，空对象不是检查空值，而是反应一个不做任何动作的关系，比如在列表为空时返回一个空对象进行操作。         |
| 模板模式   | 定义一个操作中的算法的骨架，而将一些步骤延迟到子类中，模板方法使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤。               |
| 访问者模式 | 表示一个作用于某对象结构中的各元素的操作，它使你可以在不改变各元素的类的前提下定义作用于这些元素的新操作，比如审计人员到公司各个部门检查。   |


